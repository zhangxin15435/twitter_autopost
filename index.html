<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TwitterÊô∫ËÉΩÂ§öË¥¶Âè∑ÂèëÂ∏ÉÊéßÂà∂Âè∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 1000px;
            width: 100%;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #1DA1F2;
            font-size: 2.5em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header p {
            color: #657786;
            font-size: 1.1em;
        }

        /* Ê†áÁ≠æÈ°µÊ†∑Âºè */
        .tab-container {
            margin-bottom: 30px;
        }

        .tab-buttons {
            display: flex;
            border-bottom: 2px solid #E1E8ED;
            margin-bottom: 20px;
        }

        .tab-button {
            background: none;
            border: none;
            padding: 15px 25px;
            font-size: 1.1em;
            font-weight: 600;
            color: #657786;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            flex: 1;
        }

        .tab-button.active {
            color: #1DA1F2;
            border-bottom-color: #1DA1F2;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Êñá‰ª∂‰∏ä‰º†Âå∫Âüü */
        .upload-area {
            border: 2px dashed #E1E8ED;
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            margin-bottom: 25px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .upload-area:hover,
        .upload-area.dragover {
            border-color: #1DA1F2;
            background: #F0F8FF;
        }

        .upload-icon {
            font-size: 3em;
            color: #1DA1F2;
            margin-bottom: 15px;
        }

        .upload-text {
            color: #14171A;
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .upload-hint {
            color: #657786;
            font-size: 0.9em;
        }

        .file-input {
            display: none;
        }

        /* Ë°®Ê†ºÊ†∑Âºè */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .data-table th,
        .data-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #E1E8ED;
        }

        .data-table th {
            background: #F7F9FA;
            font-weight: 600;
            color: #14171A;
        }

        .data-table tr:hover {
            background: #F7F9FA;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .status-pending {
            background: #FFF3CD;
            color: #856404;
        }

        .status-ready {
            background: #D4EDDA;
            color: #155724;
        }

        .status-published {
            background: #CCE5FF;
            color: #004085;
        }

        /* ÂéüÊúâÊ†∑Âºè‰øùÊåÅ‰∏çÂèò */
        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #14171A;
            font-size: 1.1em;
        }

        .tweet-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #E1E8ED;
            border-radius: 12px;
            font-size: 16px;
            resize: vertical;
            min-height: 120px;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }

        .tweet-input:focus {
            outline: none;
            border-color: #1DA1F2;
            box-shadow: 0 0 0 3px rgba(29, 161, 242, 0.1);
        }

        .char-counter {
            text-align: right;
            margin-top: 5px;
            font-size: 14px;
            color: #657786;
        }

        .char-counter.warning {
            color: #E1B12C;
        }

        .char-counter.error {
            color: #E0245E;
        }

        .account-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .account-option {
            position: relative;
        }

        .account-option input[type="radio"] {
            position: absolute;
            opacity: 0;
        }

        .account-card {
            padding: 20px;
            border: 2px solid #E1E8ED;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #F7F9FA;
        }

        .account-card:hover {
            border-color: #1DA1F2;
            background: #F0F8FF;
        }

        .account-option input[type="radio"]:checked+.account-card {
            border-color: #1DA1F2;
            background: #F0F8FF;
            box-shadow: 0 0 0 3px rgba(29, 161, 242, 0.1);
        }

        .account-name {
            font-weight: 700;
            color: #14171A;
            margin-bottom: 5px;
            font-size: 1.1em;
        }

        .account-desc {
            color: #657786;
            font-size: 0.9em;
            line-height: 1.4;
        }

        .publish-button {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #1DA1F2, #0d8bd9);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .publish-button:hover:not(:disabled) {
            background: linear-gradient(135deg, #0d8bd9, #0a7bc4);
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(29, 161, 242, 0.3);
        }

        .publish-button:disabled {
            background: #AAB8C2;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .button-secondary {
            background: linear-gradient(135deg, #28a745, #20c997);
            flex: 1;
        }

        .button-danger {
            background: linear-gradient(135deg, #dc3545, #c82333);
            flex: 1;
        }

        .instructions {
            background: #F0F8FF;
            border: 1px solid #1DA1F2;
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
        }

        .instructions h3 {
            color: #1DA1F2;
            margin-bottom: 15px;
        }

        .instructions ol {
            margin-left: 20px;
        }

        .instructions li {
            margin-bottom: 8px;
            color: #14171A;
            line-height: 1.5;
        }

        .github-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: #1DA1F2;
            text-decoration: none;
            font-weight: 600;
        }

        .github-link:hover {
            text-decoration: underline;
        }

        .stats-card {
            background: #F7F9FA;
            border: 1px solid #E1E8ED;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2em;
            font-weight: 700;
            color: #1DA1F2;
        }

        .stat-label {
            color: #657786;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .container {
                padding: 25px;
                margin: 10px;
            }

            .header h1 {
                font-size: 2em;
            }

            .account-selector {
                grid-template-columns: 1fr;
            }

            .tab-button {
                font-size: 1em;
                padding: 12px 15px;
            }

            .button-group {
                flex-direction: column;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>üê¶ TwitterÊô∫ËÉΩÂèëÂ∏ÉÊéßÂà∂Âè∞</h1>
            <p>Â§öË¥¶Âè∑Êô∫ËÉΩÊé®ÊñáÂèëÂ∏ÉÁ≥ªÁªü - ÊîØÊåÅÂçïÊù°ÂèëÂ∏ÉÂíåÊâπÈáè‰∏ä‰º†</p>
        </div>

        <div class="tab-container">
            <div class="tab-buttons">
                <button class="tab-button active" onclick="switchTab('single')">üìù ÂçïÊù°Êé®Êñá</button>
                <button class="tab-button" onclick="switchTab('batch')">üìä ÊâπÈáè‰∏ä‰º†</button>
                <button class="tab-button" onclick="switchTab('issue')">üé´ IssueÂèëÂ∏É</button>
                <button class="tab-button" onclick="switchTab('manage')">üìã ÂÜÖÂÆπÁÆ°ÁêÜ</button>
            </div>

            <!-- ÂçïÊù°Êé®ÊñáÂèëÂ∏É -->
            <div class="tab-content active" id="single-tab">
                <form id="tweetForm">
                    <div class="form-group">
                        <label for="tweetContent">Êé®ÊñáÂÜÖÂÆπ</label>
                        <textarea id="tweetContent" class="tweet-input" placeholder="Âú®ËøôÈáåËæìÂÖ•ÊÇ®Ë¶ÅÂèëÂ∏ÉÁöÑÊé®ÊñáÂÜÖÂÆπ..." maxlength="280"
                            required></textarea>
                        <div class="char-counter" id="charCounter">0 / 280</div>
                    </div>

                    <div class="form-group">
                        <label>ÈÄâÊã©ÂèëÂ∏ÉË¥¶Âè∑</label>
                        <div class="account-selector">
                            <div class="account-option">
                                <input type="radio" id="contextspace" name="account" value="ContextSpace" required>
                                <label for="contextspace" class="account-card">
                                    <div class="account-name">üè¢ ContextSpace</div>
                                    <div class="account-desc">‰∏ªË¥¶Âè∑ÔºåÁªºÂêàÂÜÖÂÆπÂèëÂ∏É</div>
                                </label>
                            </div>

                            <div class="account-option">
                                <input type="radio" id="ossdiscoveries" name="account" value="OSS Discoveries">
                                <label for="ossdiscoveries" class="account-card">
                                    <div class="account-name">üîß OSS Discoveries</div>
                                    <div class="account-desc">ÂºÄÊ∫êÂ∑•ÂÖ∑ÂèëÁé∞„ÄÅËÆæËÆ°Â∑•ÂÖ∑</div>
                                </label>
                            </div>

                            <div class="account-option">
                                <input type="radio" id="aiflowwatch" name="account" value="Ai flow watch">
                                <label for="aiflowwatch" class="account-card">
                                    <div class="account-name">ü§ñ AI Flow Watch</div>
                                    <div class="account-desc">AIÊäÄÊúØ„ÄÅÊú∫Âô®Â≠¶‰π†„ÄÅÂ∑•‰ΩúÊµÅ</div>
                                </label>
                            </div>

                            <div class="account-option">
                                <input type="radio" id="opensourcereader" name="account" value="Open source reader">
                                <label for="opensourcereader" class="account-card">
                                    <div class="account-name">üìö Open Source Reader</div>
                                    <div class="account-desc">ÂºÄÊ∫êÈ°πÁõÆ‰ªãÁªç„ÄÅÊäÄÊúØËØÑÊµã</div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <button type="button" class="publish-button" id="publishBtn" onclick="publishSingleTweet()">
                        üöÄ Á´ãÂç≥ÂèëÂ∏ÉÊé®Êñá
                    </button>
                </form>
            </div>

            <!-- ÊâπÈáè‰∏ä‰º† -->
            <div class="tab-content" id="batch-tab">
                <div class="upload-area" onclick="triggerFileInput()" ondrop="handleDrop(event)"
                    ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                    <div class="upload-icon">üìÇ</div>
                    <div class="upload-text">ÁÇπÂáª‰∏ä‰º†ÊàñÊãñÊãΩCSVÊñá‰ª∂Âà∞Ê≠§Â§Ñ</div>
                    <div class="upload-hint">ÊîØÊåÅÊ†ºÂºèÔºöCSVÊñá‰ª∂ÔºåÂåÖÂê´"ÂÜÖÂÆπ‰∏ªÈ¢ò,ÊèêÂá∫‰∫∫,ÂèëÂ∏ÉË¥¶Âè∑,ÊòØÂê¶ÂèëÂ∏É"Â≠óÊÆµ</div>
                    <input type="file" id="csvFileInput" class="file-input" accept=".csv"
                        onchange="handleFileSelect(event)">
                </div>

                <div id="csvPreview" style="display: none;">
                    <h3>üìã CSVÊñá‰ª∂È¢ÑËßà</h3>
                    <div class="stats-card">
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-number" id="totalCount">0</div>
                                <div class="stat-label">ÊÄªÊù°Êï∞</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="readyCount">0</div>
                                <div class="stat-label">ÂæÖÂèëÂ∏É</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="publishedCount">0</div>
                                <div class="stat-label">Â∑≤ÂèëÂ∏É</div>
                            </div>
                        </div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="data-table" id="csvTable">
                            <thead>
                                <tr>
                                    <th>ÂÜÖÂÆπ‰∏ªÈ¢ò</th>
                                    <th>ÊèêÂá∫‰∫∫</th>
                                    <th>ÂèëÂ∏ÉË¥¶Âè∑</th>
                                    <th>Áä∂ÊÄÅ</th>
                                    <th>Êìç‰Ωú</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>

                    <div class="button-group">
                        <button class="publish-button button-secondary" onclick="publishBatchTweets()">
                            üöÄ ÊâπÈáèÂèëÂ∏ÉÂæÖÂèëÂ∏ÉÂÜÖÂÆπ
                        </button>
                        <button class="publish-button button-danger" onclick="clearData()">
                            üóëÔ∏è Ê∏ÖÁ©∫Êï∞ÊçÆ
                        </button>
                    </div>
                </div>
            </div>

            <!-- IssueÂèëÂ∏É -->
            <div class="tab-content" id="issue-tab">
                <div class="stats-card">
                    <h3>üé´ ÈÄöËøáGitHub IssueÂèëÂ∏ÉÊé®Êñá</h3>
                    <p style="color: #657786; margin-bottom: 20px;">
                        ËøôÊòØ<strong>ÂÆåÂÖ®ÂÖ¨ÂºÄ</strong>ÁöÑÂèëÂ∏ÉÊñπÂºèÔºå‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•ÂàõÂª∫IssueÊù•ÂèëÂ∏ÉÊé®ÊñáÔºåÊó†ÈúÄÁôªÂΩïÊùÉÈôêÔºÅ
                    </p>
                </div>

                <form id="issueForm">
                    <div class="form-group">
                        <label for="issueContent">Êé®ÊñáÂÜÖÂÆπ</label>
                        <textarea id="issueContent" class="tweet-input" placeholder="Âú®ËøôÈáåËæìÂÖ•Ë¶ÅÂèëÂ∏ÉÁöÑÊé®ÊñáÂÜÖÂÆπ..." maxlength="280"
                            required></textarea>
                        <div class="char-counter" id="issueCharCounter">0 / 280</div>
                    </div>

                    <div class="form-group">
                        <label>ÂèëÂ∏ÉË¥¶Âè∑</label>
                        <div class="account-selector">
                            <div class="account-option">
                                <input type="radio" id="issue-contextspace" name="issueAccount" value="ContextSpace"
                                    required>
                                <label for="issue-contextspace" class="account-card">
                                    <div class="account-name">üè¢ ContextSpace</div>
                                    <div class="account-desc">‰∏ªË¥¶Âè∑ÔºåÁªºÂêàÂÜÖÂÆπÂèëÂ∏É</div>
                                </label>
                            </div>

                            <div class="account-option">
                                <input type="radio" id="issue-ossdiscoveries" name="issueAccount"
                                    value="OSS Discoveries">
                                <label for="issue-ossdiscoveries" class="account-card">
                                    <div class="account-name">üîß OSS Discoveries</div>
                                    <div class="account-desc">ÂºÄÊ∫êÂ∑•ÂÖ∑ÂèëÁé∞„ÄÅËÆæËÆ°Â∑•ÂÖ∑</div>
                                </label>
                            </div>

                            <div class="account-option">
                                <input type="radio" id="issue-aiflowwatch" name="issueAccount" value="Ai flow watch">
                                <label for="issue-aiflowwatch" class="account-card">
                                    <div class="account-name">ü§ñ AI Flow Watch</div>
                                    <div class="account-desc">AIÊäÄÊúØ„ÄÅÊú∫Âô®Â≠¶‰π†„ÄÅÂ∑•‰ΩúÊµÅ</div>
                                </label>
                            </div>

                            <div class="account-option">
                                <input type="radio" id="issue-opensourcereader" name="issueAccount"
                                    value="Open source reader">
                                <label for="issue-opensourcereader" class="account-card">
                                    <div class="account-name">üìö Open Source Reader</div>
                                    <div class="account-desc">ÂºÄÊ∫êÈ°πÁõÆ‰ªãÁªç„ÄÅÊäÄÊúØËØÑÊµã</div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <button type="button" class="publish-button" id="issuePublishBtn" onclick="createIssueForTweet()">
                        üé´ ÂàõÂª∫IssueÂèëÂ∏ÉÊé®Êñá
                    </button>
                </form>

                <div class="instructions" style="margin-top: 30px;">
                    <h3>üéØ IssueÂèëÂ∏É‰ºòÂäø</h3>
                    <ul style="margin-left: 20px;">
                        <li><strong>Êó†ÈúÄÊùÉÈôê</strong>Ôºö‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•ÂàõÂª∫IssueÂèëÂ∏ÉÊé®Êñá</li>
                        <li><strong>Ëá™Âä®Â§ÑÁêÜ</strong>ÔºöÁ≥ªÁªüËá™Âä®Ëß£ÊûêIssueÂÜÖÂÆπÂπ∂ÂèëÂ∏É</li>
                        <li><strong>ÁªìÊûúÂèçÈ¶à</strong>ÔºöÂèëÂ∏ÉÁªìÊûú‰ºöÂú®Issue‰∏≠Ëá™Âä®ÂõûÂ§ç</li>
                        <li><strong>ÂéÜÂè≤ËÆ∞ÂΩï</strong>ÔºöÊâÄÊúâÂèëÂ∏ÉËØ∑Ê±ÇÈÉΩÊúâÂÆåÊï¥ËÆ∞ÂΩï</li>
                        <li><strong>Â§öÁßçÊ†ºÂºè</strong>ÔºöÊîØÊåÅÊñáÊú¨„ÄÅJSONÁ≠âÂ§öÁßçËæìÂÖ•Ê†ºÂºè</li>
                    </ul>

                    <h3 style="margin-top: 20px;">üìù ‰ΩøÁî®Ê≠•È™§</h3>
                    <ol style="margin-left: 20px;">
                        <li>Âú®‰∏äÊñπËæìÂÖ•Êé®ÊñáÂÜÖÂÆπÂíåÈÄâÊã©Ë¥¶Âè∑</li>
                        <li>ÁÇπÂáª"ÂàõÂª∫IssueÂèëÂ∏ÉÊé®Êñá"ÊåâÈíÆ</li>
                        <li>Ë∑≥ËΩ¨Âà∞GitHubÔºåÊ†áÈ¢òÂíåÂÜÖÂÆπÂ∑≤Ëá™Âä®Â°´ÂÖÖ</li>
                        <li>ÁÇπÂáª"Submit new issue"Êèê‰∫§</li>
                        <li>Á≠âÂæÖËá™Âä®ÂèëÂ∏ÉÔºåÁªìÊûú‰ºöÂú®Issue‰∏≠ÊòæÁ§∫</li>
                    </ol>
                </div>
            </div>

            <!-- ÂÜÖÂÆπÁÆ°ÁêÜ -->
            <div class="tab-content" id="manage-tab">
                <div class="stats-card">
                    <h3>üìä ÂÜÖÂÆπÁªüËÆ°</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-number" id="manageTotalCount">0</div>
                            <div class="stat-label">Êú¨Âú∞ÊÄªÊï∞</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="manageReadyCount">0</div>
                            <div class="stat-label">ÂæÖÂèëÂ∏É</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="managePublishedCount">0</div>
                            <div class="stat-label">Â∑≤ÂèëÂ∏É</div>
                        </div>
                    </div>
                </div>

                <div style="overflow-x: auto;">
                    <table class="data-table" id="manageTable">
                        <thead>
                            <tr>
                                <th>ÂÜÖÂÆπ‰∏ªÈ¢ò</th>
                                <th>ÂèëÂ∏ÉË¥¶Âè∑</th>
                                <th>Áä∂ÊÄÅ</th>
                                <th>Êìç‰Ωú</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>

                <div class="button-group">
                    <button class="publish-button" onclick="downloadCSV()">
                        üì• ‰∏ãËΩΩCSVÊñá‰ª∂
                    </button>
                    <button class="publish-button button-danger" onclick="clearAllData()">
                        üóëÔ∏è Ê∏ÖÁ©∫ÊâÄÊúâÊï∞ÊçÆ
                    </button>
                </div>
            </div>
        </div>

        <div class="instructions">
            <h3>üìã ‰ΩøÁî®ËØ¥Êòé</h3>
            <ol>
                <li><strong>ÂçïÊù°Êé®Êñá</strong>ÔºöÁõ¥Êé•ËæìÂÖ•ÂÜÖÂÆπÔºåÈÄâÊã©Ë¥¶Âè∑Ôºå‰∏ÄÈîÆÂèëÂ∏ÉÔºàÈúÄË¶ÅGitHub‰ªìÂ∫ìÊùÉÈôêÔºâ</li>
                <li><strong>ÊâπÈáè‰∏ä‰º†</strong>Ôºö‰∏ä‰º†CSVÊñá‰ª∂ÔºåÈ¢ÑËßàÂêéÊâπÈáèÂèëÂ∏ÉÔºàÈúÄË¶ÅGitHub‰ªìÂ∫ìÊùÉÈôêÔºâ</li>
                <li><strong>üé´ IssueÂèëÂ∏É</strong>Ôºö‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•ÂàõÂª∫IssueÂèëÂ∏ÉÊé®ÊñáÔºàÊó†ÈúÄÊùÉÈôêÔºåÊé®ËçêÔºÅÔºâ</li>
                <li><strong>ÂÜÖÂÆπÁÆ°ÁêÜ</strong>ÔºöÊü•ÁúãÊâÄÊúâÂÜÖÂÆπÔºåÁÆ°ÁêÜÂèëÂ∏ÉÁä∂ÊÄÅ</li>
                <li>CSVÊñá‰ª∂Ê†ºÂºèÔºöÂÜÖÂÆπ‰∏ªÈ¢ò,ÊèêÂá∫‰∫∫,ÂèëÂ∏ÉË¥¶Âè∑,ÊòØÂê¶ÂèëÂ∏É</li>
                <li>ÂèëÂ∏ÉË¥¶Âè∑ÊîØÊåÅÔºöContextSpace, OSS Discoveries, Ai flow watch, Open source reader</li>
            </ol>
            <p style="margin-top: 15px;">
                <a href="https://github.com/zhangxin15435/twitter_autopost/actions" target="_blank" class="github-link">
                    üìÇ ÂâçÂæÄGitHub ActionsÊü•ÁúãÂèëÂ∏ÉÁä∂ÊÄÅ
                </a>
            </p>
        </div>
    </div>

    <script>
        // ÂÖ®Â±ÄÂèòÈáè
        let csvData = [];
        let currentTab = 'single';

        // Ê†áÁ≠æÈ°µÂàáÊç¢
        function switchTab(tabName) {
            // ÈöêËóèÊâÄÊúâÊ†áÁ≠æÈ°µÂÜÖÂÆπ
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });

            // ÁßªÈô§ÊâÄÊúâÊåâÈíÆÁöÑÊøÄÊ¥ªÁä∂ÊÄÅ
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });

            // ÊòæÁ§∫ÈÄâ‰∏≠ÁöÑÊ†áÁ≠æÈ°µ
            document.getElementById(tabName + '-tab').classList.add('active');

            // ÊøÄÊ¥ªÈÄâ‰∏≠ÁöÑÊåâÈíÆ
            event.target.classList.add('active');

            currentTab = tabName;

            // Â¶ÇÊûúÂàáÊç¢Âà∞ÁÆ°ÁêÜÊ†áÁ≠æÈ°µÔºåÂà∑Êñ∞Êï∞ÊçÆ
            if (tabName === 'manage') {
                refreshManageTab();
            }
        }

        // ÂçïÊù°Êé®ÊñáÂèëÂ∏ÉÁõ∏ÂÖ≥‰ª£Á†ÅÔºà‰øùÊåÅÂéüÊúâÂäüËÉΩÔºâ
        const tweetContent = document.getElementById('tweetContent');
        const charCounter = document.getElementById('charCounter');
        const publishBtn = document.getElementById('publishBtn');

        // IssueÂèëÂ∏ÉÁõ∏ÂÖ≥ÂÖÉÁ¥†
        const issueContent = document.getElementById('issueContent');
        const issueCharCounter = document.getElementById('issueCharCounter');
        const issuePublishBtn = document.getElementById('issuePublishBtn');

        // Â≠óÁ¨¶ËÆ°Êï∞Âô®
        tweetContent.addEventListener('input', function () {
            const length = this.value.length;
            const remaining = 280 - length;

            charCounter.textContent = `${length} / 280`;

            if (remaining < 20) {
                charCounter.className = 'char-counter error';
            } else if (remaining < 50) {
                charCounter.className = 'char-counter warning';
            } else {
                charCounter.className = 'char-counter';
            }

            updatePublishButton();
        });

        // IssueÂ≠óÁ¨¶ËÆ°Êï∞Âô®
        if (issueContent) {
            issueContent.addEventListener('input', function () {
                const length = this.value.length;
                const remaining = 280 - length;

                issueCharCounter.textContent = `${length} / 280`;

                if (remaining < 20) {
                    issueCharCounter.className = 'char-counter error';
                } else if (remaining < 50) {
                    issueCharCounter.className = 'char-counter warning';
                } else {
                    issueCharCounter.className = 'char-counter';
                }

                updateIssuePublishButton();
            });
        }

        // ÁõëÂê¨Ë¥¶Âè∑ÈÄâÊã©
        document.querySelectorAll('input[name="account"]').forEach(radio => {
            radio.addEventListener('change', updatePublishButton);
        });

        // ÁõëÂê¨IssueË¥¶Âè∑ÈÄâÊã©
        document.querySelectorAll('input[name="issueAccount"]').forEach(radio => {
            radio.addEventListener('change', updateIssuePublishButton);
        });

        function updatePublishButton() {
            const content = tweetContent.value.trim();
            const selectedAccount = document.querySelector('input[name="account"]:checked');

            publishBtn.disabled = !content || !selectedAccount || content.length > 280;
        }

        function updateIssuePublishButton() {
            if (!issueContent || !issuePublishBtn) return;

            const content = issueContent.value.trim();
            const selectedAccount = document.querySelector('input[name="issueAccount"]:checked');

            issuePublishBtn.disabled = !content || !selectedAccount || content.length > 280;
        }

        function publishSingleTweet() {
            const content = tweetContent.value.trim();
            const selectedAccount = document.querySelector('input[name="account"]:checked');

            if (!content || !selectedAccount) {
                alert('ËØ∑ËæìÂÖ•Êé®ÊñáÂÜÖÂÆπÂπ∂ÈÄâÊã©ÂèëÂ∏ÉË¥¶Âè∑');
                return;
            }

            if (content.length > 280) {
                alert('Êé®ÊñáÂÜÖÂÆπË∂ÖËøá280Â≠óÁ¨¶ÈôêÂà∂');
                return;
            }

            // Ê∑ªÂä†Âà∞Êú¨Âú∞Â≠òÂÇ®
            addToLocalStorage({
                content: content,
                author: 'ÊâãÂä®ËæìÂÖ•',
                account: selectedAccount.value,
                status: 'ÂæÖÂèëÂ∏É',
                timestamp: new Date().toISOString()
            });

            // ÂèëÂ∏ÉÊé®Êñá
            publishToGitHub([{
                content: content,
                account: selectedAccount.value
            }]);
        }

        // IssueÂèëÂ∏ÉÂäüËÉΩ
        function createIssueForTweet() {
            const content = issueContent.value.trim();
            const selectedAccount = document.querySelector('input[name="issueAccount"]:checked');

            if (!content || !selectedAccount) {
                alert('ËØ∑ËæìÂÖ•Êé®ÊñáÂÜÖÂÆπÂπ∂ÈÄâÊã©ÂèëÂ∏ÉË¥¶Âè∑');
                return;
            }

            if (content.length > 280) {
                alert('Êé®ÊñáÂÜÖÂÆπË∂ÖËøá280Â≠óÁ¨¶ÈôêÂà∂');
                return;
            }

            // ÊûÑÂª∫IssueÊ†áÈ¢ò
            const title = encodeURIComponent(`[Êé®ÊñáÂèëÂ∏É] ${content.substring(0, 30)}${content.length > 30 ? '...' : ''}`);

            // ÊûÑÂª∫IssueÂÜÖÂÆπ
            const issueBody = `## üìù Êé®ÊñáÂÜÖÂÆπ

**ÂÜÖÂÆπ:** ${content}
**Ë¥¶Âè∑:** ${selectedAccount.value}

---

## ü§ñ Ëá™Âä®ÂèëÂ∏ÉËØ¥Êòé

Ê≠§Issue‰ºöËá™Âä®Ëß¶ÂèëÊé®ÊñáÂèëÂ∏ÉÊµÅÁ®ãÔºö
- Á≥ªÁªü‰ºöËß£Êûê‰∏äËø∞ÂÜÖÂÆπÂπ∂ÂèëÂ∏ÉÂà∞ÊåáÂÆöÁöÑTwitterË¥¶Âè∑
- ÂèëÂ∏ÉÂÆåÊàêÂêé‰ºöÂú®Ê≠§Issue‰∏≠ÂõûÂ§çÁªìÊûú
- ËØ∑‰∏çË¶Å‰øÆÊîπÊàñÂà†Èô§‰∏äËø∞Ê†ºÂºèÂåñÂÜÖÂÆπ

ÂèëÂ∏ÉÊó∂Èó¥: ${new Date().toLocaleString('zh-CN')}`;

            // ÊûÑÂª∫GitHub Issue URL
            const repoUrl = 'https://github.com/zhangxin15435/twitter_autopost';
            const issueUrl = `${repoUrl}/issues/new?title=${title}&body=${encodeURIComponent(issueBody)}&labels=pending`;

            // ÊòæÁ§∫Á°ÆËÆ§‰ø°ÊÅØ
            const confirmMessage = `Âç≥Â∞ÜÂàõÂª∫GitHub IssueÂèëÂ∏ÉÊé®ÊñáÔºö

üìù ÂÜÖÂÆπ: ${content}
üéØ Ë¥¶Âè∑: ${selectedAccount.value}

‚úÖ ‰ºòÂäø:
- ‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•‰ΩøÁî®ÔºàÊó†ÈúÄ‰ªìÂ∫ìÊùÉÈôêÔºâ
- Ëá™Âä®ÂèëÂ∏ÉÂ§ÑÁêÜ
- ÂÆåÊï¥ÁöÑÂéÜÂè≤ËÆ∞ÂΩï
- ÁªìÊûúËá™Âä®ÂèçÈ¶à

Á°ÆËÆ§Ë¶ÅË∑≥ËΩ¨Âà∞GitHubÂàõÂª∫IssueÂêóÔºü`;

            if (confirm(confirmMessage)) {
                // ‰øùÂ≠òÊï∞ÊçÆ‰æõÂêéÁª≠ÂèÇËÄÉ
                localStorage.setItem('lastIssueData', JSON.stringify({
                    content: content,
                    account: selectedAccount.value,
                    timestamp: new Date().toISOString()
                }));

                alert('Âç≥Â∞ÜË∑≥ËΩ¨Âà∞GitHub IssueÈ°µÈù¢ÔºÅ\n\nüìã Êìç‰ΩúÊ≠•È™§Ôºö\n1. Á°ÆËÆ§Ê†áÈ¢òÂíåÂÜÖÂÆπÂ∑≤Ëá™Âä®Â°´ÂÖÖ\n2. ÁÇπÂáª"Submit new issue"Êèê‰∫§\n3. Á≠âÂæÖËá™Âä®ÂèëÂ∏ÉÔºàÈÄöÂ∏∏1-2ÂàÜÈíüÔºâ\n4. Êü•ÁúãIssue‰∏≠ÁöÑÂèëÂ∏ÉÁªìÊûúÂèçÈ¶à');

                // Ë∑≥ËΩ¨Âà∞GitHub IssueÂàõÂª∫È°µÈù¢
                window.open(issueUrl, '_blank');

                // Ê∏ÖÁ©∫Ë°®Âçï
                issueContent.value = '';
                document.querySelector('input[name="issueAccount"]:checked').checked = false;
                updateIssuePublishButton();

                // Êõ¥Êñ∞Â≠óÁ¨¶ËÆ°Êï∞ÊòæÁ§∫
                issueCharCounter.textContent = '0 / 280';
                issueCharCounter.className = 'char-counter';
            }
        }

        // Êñá‰ª∂‰∏ä‰º†Áõ∏ÂÖ≥ÂäüËÉΩ
        function triggerFileInput() {
            document.getElementById('csvFileInput').click();
        }

        function handleDragOver(event) {
            event.preventDefault();
            event.target.closest('.upload-area').classList.add('dragover');
        }

        function handleDragLeave(event) {
            event.target.closest('.upload-area').classList.remove('dragover');
        }

        function handleDrop(event) {
            event.preventDefault();
            event.target.closest('.upload-area').classList.remove('dragover');

            const files = event.dataTransfer.files;
            if (files.length > 0) {
                handleFileSelect({ target: { files: files } });
            }
        }

        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (!file) return;

            if (!file.name.toLowerCase().endsWith('.csv')) {
                alert('ËØ∑ÈÄâÊã©CSVÊñá‰ª∂ÔºÅ');
                return;
            }

            const reader = new FileReader();
            reader.onload = function (e) {
                const csvText = e.target.result;
                parseCSVData(csvText);
            };
            reader.readAsText(file, 'utf-8');
        }

        function parseCSVData(csvText) {
            const lines = csvText.split('\n');
            const headers = lines[0].split(',').map(h => h.trim().replace(/"/g, ''));

            csvData = [];

            for (let i = 1; i < lines.length; i++) {
                const line = lines[i].trim();
                if (!line) continue;

                const values = parseCSVLine(line);
                if (values.length >= 4) {
                    csvData.push({
                        content: values[0] || '',
                        author: values[1] || '',
                        account: values[2] || '',
                        status: values[3] === 'ÊòØ' ? 'Â∑≤ÂèëÂ∏É' : 'ÂæÖÂèëÂ∏É',
                        timestamp: new Date().toISOString()
                    });
                }
            }

            displayCSVPreview();
            saveToLocalStorage();
        }

        function parseCSVLine(line) {
            const result = [];
            let current = '';
            let inQuotes = false;

            for (let i = 0; i < line.length; i++) {
                const char = line[i];
                const nextChar = line[i + 1];

                if (char === '"' && !inQuotes) {
                    inQuotes = true;
                } else if (char === '"' && inQuotes && nextChar === '"') {
                    current += '"';
                    i++; // Ë∑≥Ëøá‰∏ã‰∏Ä‰∏™ÂºïÂè∑
                } else if (char === '"' && inQuotes) {
                    inQuotes = false;
                } else if (char === ',' && !inQuotes) {
                    result.push(current.trim());
                    current = '';
                } else {
                    current += char;
                }
            }

            result.push(current.trim());
            return result;
        }

        function displayCSVPreview() {
            const preview = document.getElementById('csvPreview');
            const table = document.getElementById('csvTable').querySelector('tbody');

            // Ê∏ÖÁ©∫Ë°®Ê†º
            table.innerHTML = '';

            // ÁªüËÆ°Êï∞ÊçÆ
            let totalCount = csvData.length;
            let readyCount = csvData.filter(item => item.status === 'ÂæÖÂèëÂ∏É').length;
            let publishedCount = csvData.filter(item => item.status === 'Â∑≤ÂèëÂ∏É').length;

            // Êõ¥Êñ∞ÁªüËÆ°
            document.getElementById('totalCount').textContent = totalCount;
            document.getElementById('readyCount').textContent = readyCount;
            document.getElementById('publishedCount').textContent = publishedCount;

            // Â°´ÂÖÖË°®Ê†º
            csvData.forEach((item, index) => {
                const row = table.insertRow();
                row.innerHTML = `
                    <td style="max-width: 300px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;" title="${item.content}">${item.content}</td>
                    <td>${item.author}</td>
                    <td>${item.account}</td>
                    <td><span class="status-badge ${item.status === 'Â∑≤ÂèëÂ∏É' ? 'status-published' : 'status-ready'}">${item.status}</span></td>
                    <td>
                        <button onclick="toggleStatus(${index})" style="padding: 4px 8px; border: none; border-radius: 4px; background: #1DA1F2; color: white; cursor: pointer;">
                            ${item.status === 'Â∑≤ÂèëÂ∏É' ? 'ËÆæ‰∏∫ÂæÖÂèëÂ∏É' : 'ËÆæ‰∏∫Â∑≤ÂèëÂ∏É'}
                        </button>
                    </td>
                `;
            });

            preview.style.display = 'block';
        }

        function toggleStatus(index) {
            csvData[index].status = csvData[index].status === 'Â∑≤ÂèëÂ∏É' ? 'ÂæÖÂèëÂ∏É' : 'Â∑≤ÂèëÂ∏É';
            displayCSVPreview();
            saveToLocalStorage();
        }

        function publishBatchTweets() {
            const readyItems = csvData.filter(item => item.status === 'ÂæÖÂèëÂ∏É');

            if (readyItems.length === 0) {
                alert('Ê≤°ÊúâÂæÖÂèëÂ∏ÉÁöÑÂÜÖÂÆπÔºÅ');
                return;
            }

            if (confirm(`Á°ÆËÆ§Ë¶ÅÂèëÂ∏É ${readyItems.length} Êù°Êé®ÊñáÂêóÔºü`)) {
                publishToGitHub(readyItems);

                // Êõ¥Êñ∞Áä∂ÊÄÅ‰∏∫Â∑≤ÂèëÂ∏É
                csvData.forEach(item => {
                    if (item.status === 'ÂæÖÂèëÂ∏É') {
                        item.status = 'Â∑≤ÂèëÂ∏É';
                    }
                });

                displayCSVPreview();
                saveToLocalStorage();
            }
        }

        function publishToGitHub(items) {
            // ÊûÑÂª∫GitHub Actions URL
            const repoUrl = 'https://github.com/zhangxin15435/twitter_autopost';
            const actionsUrl = `${repoUrl}/actions/workflows/manual_publish.yml`;

            // ÊûÑÂª∫ÊâπÈáèÂèëÂ∏ÉÊï∞ÊçÆ
            const batchData = items.map(item => ({
                content: item.content,
                account: item.account
            }));

            // ‰øùÂ≠òÂà∞localStorage‰æõGitHub Actions‰ΩøÁî®
            localStorage.setItem('batchTweets', JSON.stringify({
                data: batchData,
                timestamp: new Date().toISOString()
            }));

            const message = `ÂáÜÂ§áÂèëÂ∏É ${items.length} Êù°Êé®ÊñáÂà∞GitHub Actions\n\n${items.slice(0, 3).map(item => `‚Ä¢ ${item.content.substring(0, 50)}... ‚Üí ${item.account}`).join('\n')}${items.length > 3 ? `\n...ËøòÊúâ ${items.length - 3} Êù°` : ''}`;

            if (confirm(message + '\n\nÁ°ÆËÆ§Ë¶ÅË∑≥ËΩ¨Âà∞GitHub ActionsÂêóÔºü')) {
                alert('Êï∞ÊçÆÂ∑≤ÂáÜÂ§áÂÆåÊàêÔºÅ\n\nÊé•‰∏ãÊù•Âú®GitHub ActionsÈ°µÈù¢Ôºö\n1. ÁÇπÂáª"Run workflow"\n2. ÈÄâÊã©"ÊâπÈáèÂèëÂ∏ÉÊ®°Âºè"\n3. ÁÇπÂáª"Run workflow"ÊâßË°å');
                window.open(actionsUrl, '_blank');
            }
        }

        // Êú¨Âú∞Â≠òÂÇ®ÂäüËÉΩ
        function saveToLocalStorage() {
            localStorage.setItem('twitterData', JSON.stringify(csvData));
        }

        function loadFromLocalStorage() {
            const data = localStorage.getItem('twitterData');
            if (data) {
                csvData = JSON.parse(data);
            }
        }

        function addToLocalStorage(item) {
            csvData.push(item);
            saveToLocalStorage();
        }

        function clearData() {
            if (confirm('Á°ÆËÆ§Ë¶ÅÊ∏ÖÁ©∫ÂΩìÂâçÊâπÈáè‰∏ä‰º†ÁöÑÊï∞ÊçÆÂêóÔºü')) {
                csvData = [];
                document.getElementById('csvPreview').style.display = 'none';
                document.getElementById('csvFileInput').value = '';
                saveToLocalStorage();
            }
        }

        function clearAllData() {
            if (confirm('Á°ÆËÆ§Ë¶ÅÊ∏ÖÁ©∫ÊâÄÊúâÊú¨Âú∞Â≠òÂÇ®ÁöÑÊï∞ÊçÆÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§çÔºÅ')) {
                localStorage.removeItem('twitterData');
                localStorage.removeItem('batchTweets');
                localStorage.removeItem('pendingTweet');
                csvData = [];
                refreshManageTab();
                if (document.getElementById('csvPreview').style.display !== 'none') {
                    displayCSVPreview();
                }
            }
        }

        // ÂÜÖÂÆπÁÆ°ÁêÜÂäüËÉΩ
        function refreshManageTab() {
            loadFromLocalStorage();

            const table = document.getElementById('manageTable').querySelector('tbody');
            table.innerHTML = '';

            // ÁªüËÆ°Êï∞ÊçÆ
            let totalCount = csvData.length;
            let readyCount = csvData.filter(item => item.status === 'ÂæÖÂèëÂ∏É').length;
            let publishedCount = csvData.filter(item => item.status === 'Â∑≤ÂèëÂ∏É').length;

            // Êõ¥Êñ∞ÁªüËÆ°
            document.getElementById('manageTotalCount').textContent = totalCount;
            document.getElementById('manageReadyCount').textContent = readyCount;
            document.getElementById('managePublishedCount').textContent = publishedCount;

            // Â°´ÂÖÖË°®Ê†º
            csvData.forEach((item, index) => {
                const row = table.insertRow();
                row.innerHTML = `
                    <td style="max-width: 400px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;" title="${item.content}">${item.content}</td>
                    <td>${item.account}</td>
                    <td><span class="status-badge ${item.status === 'Â∑≤ÂèëÂ∏É' ? 'status-published' : 'status-ready'}">${item.status}</span></td>
                    <td>
                        <button onclick="toggleStatus(${index}); refreshManageTab();" style="padding: 4px 8px; border: none; border-radius: 4px; background: #1DA1F2; color: white; cursor: pointer; margin-right: 5px;">
                            ÂàáÊç¢Áä∂ÊÄÅ
                        </button>
                        <button onclick="deleteItem(${index})" style="padding: 4px 8px; border: none; border-radius: 4px; background: #dc3545; color: white; cursor: pointer;">
                            Âà†Èô§
                        </button>
                    </td>
                `;
            });
        }

        function deleteItem(index) {
            if (confirm('Á°ÆËÆ§Ë¶ÅÂà†Èô§ËøôÊù°ÂÜÖÂÆπÂêóÔºü')) {
                csvData.splice(index, 1);
                saveToLocalStorage();
                refreshManageTab();

                // Â¶ÇÊûúÂΩìÂâçÂú®ÊâπÈáèÈ¢ÑËßàÈ°µÈù¢Ôºå‰πüÈúÄË¶ÅÊõ¥Êñ∞
                if (document.getElementById('csvPreview').style.display !== 'none') {
                    displayCSVPreview();
                }
            }
        }

        function downloadCSV() {
            if (csvData.length === 0) {
                alert('Ê≤°ÊúâÊï∞ÊçÆÂèØ‰ª•‰∏ãËΩΩÔºÅ');
                return;
            }

            let csvContent = 'ÂÜÖÂÆπ‰∏ªÈ¢ò,ÊèêÂá∫‰∫∫,ÂèëÂ∏ÉË¥¶Âè∑,ÊòØÂê¶ÂèëÂ∏É\n';
            csvData.forEach(item => {
                const status = item.status === 'Â∑≤ÂèëÂ∏É' ? 'ÊòØ' : 'Âê¶';
                csvContent += `"${item.content}","${item.author}","${item.account}","${status}"\n`;
            });

            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', `twitter_content_${new Date().toISOString().split('T')[0]}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // È°µÈù¢Âä†ËΩΩÊó∂ÂàùÂßãÂåñ
        window.addEventListener('load', function () {
            loadFromLocalStorage();
            updatePublishButton();
            updateIssuePublishButton();

            // Ê£ÄÊü•ÊòØÂê¶ÊúâÂæÖÂèëÂ∏ÉÁöÑÊé®ÊñáÔºàÂÖºÂÆπÊóßÁâàÊú¨Ôºâ
            const pendingTweet = localStorage.getItem('pendingTweet');
            if (pendingTweet) {
                try {
                    const data = JSON.parse(pendingTweet);
                    const timeDiff = new Date() - new Date(data.timestamp);

                    if (timeDiff < 3600000) {
                        tweetContent.value = data.content;
                        document.querySelector(`input[value="${data.account}"]`).checked = true;
                        updatePublishButton();
                        localStorage.removeItem('pendingTweet');
                    }
                } catch (e) {
                    localStorage.removeItem('pendingTweet');
                }
            }

            // Â¶ÇÊûúÊúâÊï∞ÊçÆÔºåÊòæÁ§∫ÊâπÈáèÈ¢ÑËßà
            if (csvData.length > 0) {
                displayCSVPreview();
            }
        });
    </script>
</body>

</html>